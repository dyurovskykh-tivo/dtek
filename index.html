<html>
  <body>
    <p id="now"/>
    <p id="output-white"/>
    <p id="output-grey"/>
    <p id="test1"/>
    <p id="test2"/>
    <script>
      let scheduleMap = {
        0: [], 1: [], 2: [], 3: [], 4: [], 5: [],
        6: {
          14: "black", 15: "black",
          16: "grey", 17: "grey", 18: "grey",
          19: "white",
        },
      };
      setInterval(function() {
        let dateMap = {
          white: new Date("Jan 5, 2030 15:37:25").getTime(),
          grey: new Date("Jan 5, 2030 05:07:25").getTime(),
        };
        for (label in dateMap) {
          var now = new Date();
          nowHour = Math.floor((now.getTime() % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)) + 3;
          schedule = scheduleMap[now.getDay()];
          nowLabel = schedule[nowHour]
          nextHour = ""
          for (let i = nowHour; i < 24; i++) {
			if (schedule[i] == label) {
              nextHour = i
              break
            }
		  }
          timeLeftSec = Math.floor((nextHour-1) * 3600 - (now.getTime() % 86400000)/1000)
          document.getElementById("test1").innerHTML = "Now hour (" + label + "): "+ nowHour;
          document.getElementById("test2").innerHTML = "Next hour (" + label + "): " + nextHour;
          
          document.getElementById("now").innerHTML = "Now: " + nowLabel;
          var hoursLeft = Math.floor(timeLeftSec % 86400 / 3600);
          var minutesLeft = Math.floor(timeLeftSec % 3600 / 60);
          var secondsLeft = Math.floor(timeLeftSec % 60);

          document.getElementById("output-" + label).innerHTML = "Time to '" + label + "': " + hoursLeft + "h " + minutesLeft + "m " + secondsLeft + "s";
        }
      }, 1000);
    </script>
  </body>
</html>
